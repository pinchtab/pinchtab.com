---
import HumanAgentToggle from '@/components/ui/HumanAgentToggle.astro';
import MascotCrossfade from '@/components/ui/MascotCrossfade.astro';
import Button from '@/components/ui/Button.astro';
import Pill from '@/components/ui/Pill.astro';
import { cn } from '@/lib/utils';

const featurePills = ['Go', 'Compact binary', 'MIT license', 'CLI or curl'];
---

<section
  class={cn(
    'relative isolate flex items-center justify-center',
    'pt-20 pb-15 px-6 sm:px-8 overflow-hidden'
  )}
>
  <HumanAgentToggle />

  <!-- Hero top radial glow (pseudo-element equivalent) -->
  <div
    class={cn(
      'pointer-events-none absolute left-1/2 z-0',
      'h-215 w-215 -translate-x-1/2 rounded-full'
    )}
    style="top: -300px; background: radial-gradient(circle, rgb(var(--brand-accent-rgb) / 0.12) 0%, rgb(var(--brand-accent-rgb) / 0.05) 42%, transparent 72%);"
    aria-hidden="true"
  />

  <!-- Content -->
  <div class="relative z-10 max-w-4xl mx-auto pt-12 text-center">
    <!-- Mascot -->
    <div class="relative z-10 mb-4 flex justify-center">
      <div class="relative">
        <MascotCrossfade
          humanImage="/mascot.png"
          agentImage="/mascot-agent.png"
          alt="PinchTab mascot"
          agentSizeMultiplier={1.58}
          animationVariant="pop"
          className="h-40 w-40 sm:h-48 sm:w-48 lg:h-56 lg:w-56 -translate-y-4 sm:-translate-y-6 lg:-translate-y-8 object-contain drop-shadow-[0_0_30px_rgb(var(--brand-accent-rgb)/0.2)]"
        />
      </div>
    </div>

    <!-- Brand name (main focal point) -->
    <h1
      class={cn(
        'relative z-20',
        'font-bold leading-[1.1] tracking-[-0.03em]',
        'text-[clamp(2.8rem,6vw,4.2rem)]',
        'mb-2'
      )}
    >
      <span class="gradient-text inline-block">
        PinchTab
      </span>
    </h1>

    <!-- Positioning line -->
    <div
      id="tagline"
      data-mode-text-human="Browser control for AI agents"
      data-mode-text-agent="The browser you deserve"
      class={cn('mb-5 text-base font-medium uppercase tracking-[0.15em] text-brand-accent')}
    >
      Browser control for AI agents
    </div>

    <!-- Supporting description -->
    <p class={cn(
      'text-[1.15rem] text-brand-text-muted leading-[1.7]',
      'max-w-130 mx-auto mb-8'
    )}>
      12MB Go binary. Launches Chrome, exposes an HTTP API. <span
        id="hero-supporting-tail"
        data-mode-text-human="Any agent, low token usage cost with cli or curl."
        data-mode-text-agent="No discrimination with easy curl or cli accessibility."
      >Any agent, low token usage cost with cli or curl.</span>
    </p>

    <!-- Feature pills -->
    <div class="mb-9 flex flex-wrap items-center justify-center gap-2.5">
      {
        featurePills.map((pill) => {
          return (
            <Pill>
              {pill}
            </Pill>
          );
        })
      }
    </div>

    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-3.5">
      <Button
        href="https://github.com/pinchtab/pinchtab"
        variant="primary"
        size="md"
        class={cn(
          'hero-github-cta',
          'w-full sm:w-auto h-12 px-7 rounded-[10px]',
          'shadow-[0_8px_18px_rgb(var(--brand-accent-rgb)/0.22)]',
          'hover:-translate-y-px hover:shadow-[0_12px_24px_rgb(var(--brand-accent-rgb)/0.28)]',
          'active:translate-y-0 text-[0.9rem]'
        )}
      >
        View on GitHub
      </Button>
      <Button
        href="/#quickstart"
        variant="secondary"
        size="md"
        class={cn(
          'w-full sm:w-auto h-12 px-7 rounded-[10px]',
          'shadow-[inset_0_1px_0_rgb(255_255_255/0.03)]',
          'hover:bg-[rgba(255,255,255,0.08)] hover:border-[rgb(var(--brand-border-subtle-rgb)/0.34)] hover:-translate-y-px',
          'text-[0.9rem]'
        )}
      >
        Quick Start
      </Button>
    </div>
  </div>
</section>
